<%inherit file="base.html"/>

<%block name="title">
    Карта точек тестирования
</%block>

<%block name="style_and_script">
    <link rel="stylesheet" href="static/styles/style_for_map.css">
    <script type="text/javascript" src="static/scripts/full_image_script.js"></script>
</%block>


<body>
    <center>
        <img id="board_img" src="static/img/board.jpeg" alt="Изображение платы с пинами" usemap="#map">
    </center>
    <p>
        <map name="map">
        % for pin in pins:
            <area onmouseover="hide_or_show_img(this, true);" onmouseout="hide_or_show_img(this, false);" shape="circle" coords="${pin.x},${pin.y},6" href="#point${pin.x}${pin.y}" alt="">
        % endfor
        </map>
    </p>
% for pin in pins:
    % if pin.measurements:
    <figure id="img${pin.x},${pin.y},6" onmouseover="change_position(this);" style="display: none;">
        <p>
            <img src="static/img/${pin.element_index}_${pin.pin_index}_iv.png" alt="Изображение ВАХ в точке тестирования" title="Изображение ВАХ в точке тестирования">
        </p>
        <%
            legend_for_iv_img = ""
            for measurement in pin.measurements:
                if measurement.is_reference:
                    legend_for_iv_img += '<font color="#00f">ВАХ эталона</font>\n'
                else:
                    legend_for_iv_img += '<font color="#f00">Тестовая (текущая) ВАХ</font>>\n'
        %>
        <figcaption>${legend_for_iv_img}</figcaption>
    </figure>
    % endif
% endfor
</body>
